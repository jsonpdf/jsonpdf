{
  "version": "1.0",
  "name": "Dashboard",
  "description": "An operations dashboard showcasing container grid layout, multiple Vega-Lite charts, shape plugin, table plugin, and conditionalStyles.",
  "page": {
    "width": 595,
    "height": 842,
    "margins": { "top": 25, "right": 25, "bottom": 25, "left": 25 }
  },
  "dataSchema": {
    "type": "object",
    "properties": {
      "dashboardTitle": { "type": "string" },
      "dateRange": { "type": "string" },
      "generatedDate": { "type": "string" },
      "kpis": { "type": "array" },
      "monthlySales": { "type": "array" },
      "categoryBreakdown": { "type": "array" },
      "recentTransactions": { "type": "array" }
    }
  },
  "styles": {
    "dashboard-title": {
      "fontSize": 20,
      "fontWeight": "bold",
      "color": "#0f172a"
    },
    "date-range": {
      "fontSize": 10,
      "color": "#64748b"
    },
    "kpi-value": {
      "fontSize": 20,
      "fontWeight": "bold",
      "color": "#0f172a"
    },
    "kpi-label": {
      "fontSize": 8,
      "color": "#64748b"
    },
    "kpi-change-positive": {
      "fontSize": 9,
      "fontWeight": "bold",
      "color": "#16a34a"
    },
    "kpi-change-negative": {
      "fontSize": 9,
      "fontWeight": "bold",
      "color": "#dc2626"
    },
    "section-title": {
      "fontSize": 12,
      "fontWeight": "bold",
      "color": "#0f172a"
    },
    "table-text": {
      "fontSize": 8,
      "color": "#334155"
    },
    "table-header": {
      "fontSize": 8,
      "fontWeight": "bold",
      "color": "#ffffff",
      "backgroundColor": "#1e293b"
    },
    "table-alt": {
      "fontSize": 8,
      "color": "#334155",
      "backgroundColor": "#f8fafc"
    },
    "footer": {
      "fontSize": 7,
      "color": "#94a3b8",
      "textAlign": "center"
    }
  },
  "fonts": [],
  "sections": [
    {
      "id": "dashboard",
      "bands": [
        {
          "id": "header",
          "type": "title",
          "height": 50,
          "elements": [
            {
              "id": "title",
              "type": "text",
              "x": 0,
              "y": 5,
              "width": 545,
              "height": 26,
              "style": "dashboard-title",
              "properties": { "content": "{{ dashboardTitle }}" }
            },
            {
              "id": "date-range",
              "type": "text",
              "x": 0,
              "y": 30,
              "width": 300,
              "height": 14,
              "style": "date-range",
              "properties": { "content": "{{ dateRange }}" }
            },
            {
              "id": "generated",
              "type": "text",
              "x": 300,
              "y": 30,
              "width": 245,
              "height": 14,
              "style": "date-range",
              "styleOverrides": { "textAlign": "right" },
              "properties": { "content": "Generated: {{ generatedDate }}" }
            }
          ]
        },
        {
          "id": "kpi-section",
          "type": "body",
          "height": 100,
          "elements": [
            {
              "id": "kpi-grid",
              "type": "container",
              "x": 0,
              "y": 0,
              "width": 545,
              "height": 90,
              "properties": {
                "layout": "grid",
                "gridColumns": 4,
                "gap": 12
              },
              "elements": [
                {
                  "id": "kpi-card-1",
                  "type": "container",
                  "x": 0,
                  "y": 0,
                  "width": 125,
                  "height": 90,
                  "properties": { "layout": "absolute" },
                  "elements": [
                    {
                      "id": "kpi-bg-1",
                      "type": "shape",
                      "x": 0,
                      "y": 0,
                      "width": 125,
                      "height": 90,
                      "properties": {
                        "shapeType": "rect",
                        "fill": "#f0f9ff",
                        "stroke": "#bae6fd",
                        "strokeWidth": 1,
                        "borderRadius": 6
                      }
                    },
                    {
                      "id": "kpi-label-1",
                      "type": "text",
                      "x": 12,
                      "y": 10,
                      "width": 101,
                      "height": 12,
                      "style": "kpi-label",
                      "properties": { "content": "{{ kpis[0].label }}" }
                    },
                    {
                      "id": "kpi-value-1",
                      "type": "text",
                      "x": 12,
                      "y": 26,
                      "width": 101,
                      "height": 28,
                      "style": "kpi-value",
                      "properties": { "content": "{{ kpis[0].value }}" }
                    },
                    {
                      "id": "kpi-change-1",
                      "type": "text",
                      "x": 12,
                      "y": 60,
                      "width": 101,
                      "height": 14,
                      "style": "kpi-change-positive",
                      "conditionalStyles": [
                        {
                          "condition": "kpis[0].positive",
                          "style": "kpi-change-positive"
                        },
                        {
                          "condition": "kpis[0].positive == false",
                          "style": "kpi-change-negative"
                        }
                      ],
                      "properties": { "content": "{{ kpis[0].change }}" }
                    }
                  ]
                },
                {
                  "id": "kpi-card-2",
                  "type": "container",
                  "x": 0,
                  "y": 0,
                  "width": 125,
                  "height": 90,
                  "properties": { "layout": "absolute" },
                  "elements": [
                    {
                      "id": "kpi-bg-2",
                      "type": "shape",
                      "x": 0,
                      "y": 0,
                      "width": 125,
                      "height": 90,
                      "properties": {
                        "shapeType": "rect",
                        "fill": "#f0fdf4",
                        "stroke": "#bbf7d0",
                        "strokeWidth": 1,
                        "borderRadius": 6
                      }
                    },
                    {
                      "id": "kpi-label-2",
                      "type": "text",
                      "x": 12,
                      "y": 10,
                      "width": 101,
                      "height": 12,
                      "style": "kpi-label",
                      "properties": { "content": "{{ kpis[1].label }}" }
                    },
                    {
                      "id": "kpi-value-2",
                      "type": "text",
                      "x": 12,
                      "y": 26,
                      "width": 101,
                      "height": 28,
                      "style": "kpi-value",
                      "properties": { "content": "{{ kpis[1].value }}" }
                    },
                    {
                      "id": "kpi-change-2",
                      "type": "text",
                      "x": 12,
                      "y": 60,
                      "width": 101,
                      "height": 14,
                      "style": "kpi-change-positive",
                      "conditionalStyles": [
                        {
                          "condition": "kpis[1].positive",
                          "style": "kpi-change-positive"
                        },
                        {
                          "condition": "kpis[1].positive == false",
                          "style": "kpi-change-negative"
                        }
                      ],
                      "properties": { "content": "{{ kpis[1].change }}" }
                    }
                  ]
                },
                {
                  "id": "kpi-card-3",
                  "type": "container",
                  "x": 0,
                  "y": 0,
                  "width": 125,
                  "height": 90,
                  "properties": { "layout": "absolute" },
                  "elements": [
                    {
                      "id": "kpi-bg-3",
                      "type": "shape",
                      "x": 0,
                      "y": 0,
                      "width": 125,
                      "height": 90,
                      "properties": {
                        "shapeType": "rect",
                        "fill": "#fef2f2",
                        "stroke": "#fecaca",
                        "strokeWidth": 1,
                        "borderRadius": 6
                      }
                    },
                    {
                      "id": "kpi-label-3",
                      "type": "text",
                      "x": 12,
                      "y": 10,
                      "width": 101,
                      "height": 12,
                      "style": "kpi-label",
                      "properties": { "content": "{{ kpis[2].label }}" }
                    },
                    {
                      "id": "kpi-value-3",
                      "type": "text",
                      "x": 12,
                      "y": 26,
                      "width": 101,
                      "height": 28,
                      "style": "kpi-value",
                      "properties": { "content": "{{ kpis[2].value }}" }
                    },
                    {
                      "id": "kpi-change-3",
                      "type": "text",
                      "x": 12,
                      "y": 60,
                      "width": 101,
                      "height": 14,
                      "style": "kpi-change-positive",
                      "conditionalStyles": [
                        {
                          "condition": "kpis[2].positive",
                          "style": "kpi-change-positive"
                        },
                        {
                          "condition": "kpis[2].positive == false",
                          "style": "kpi-change-negative"
                        }
                      ],
                      "properties": { "content": "{{ kpis[2].change }}" }
                    }
                  ]
                },
                {
                  "id": "kpi-card-4",
                  "type": "container",
                  "x": 0,
                  "y": 0,
                  "width": 125,
                  "height": 90,
                  "properties": { "layout": "absolute" },
                  "elements": [
                    {
                      "id": "kpi-bg-4",
                      "type": "shape",
                      "x": 0,
                      "y": 0,
                      "width": 125,
                      "height": 90,
                      "properties": {
                        "shapeType": "rect",
                        "fill": "#faf5ff",
                        "stroke": "#e9d5ff",
                        "strokeWidth": 1,
                        "borderRadius": 6
                      }
                    },
                    {
                      "id": "kpi-label-4",
                      "type": "text",
                      "x": 12,
                      "y": 10,
                      "width": 101,
                      "height": 12,
                      "style": "kpi-label",
                      "properties": { "content": "{{ kpis[3].label }}" }
                    },
                    {
                      "id": "kpi-value-4",
                      "type": "text",
                      "x": 12,
                      "y": 26,
                      "width": 101,
                      "height": 28,
                      "style": "kpi-value",
                      "properties": { "content": "{{ kpis[3].value }}" }
                    },
                    {
                      "id": "kpi-change-4",
                      "type": "text",
                      "x": 12,
                      "y": 60,
                      "width": 101,
                      "height": 14,
                      "style": "kpi-change-positive",
                      "conditionalStyles": [
                        {
                          "condition": "kpis[3].positive",
                          "style": "kpi-change-positive"
                        },
                        {
                          "condition": "kpis[3].positive == false",
                          "style": "kpi-change-negative"
                        }
                      ],
                      "properties": { "content": "{{ kpis[3].change }}" }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "id": "charts-section",
          "type": "body",
          "height": 260,
          "elements": [
            {
              "id": "chart-left-title",
              "type": "text",
              "x": 0,
              "y": 0,
              "width": 265,
              "height": 16,
              "style": "section-title",
              "properties": { "content": "Monthly Revenue Trend" }
            },
            {
              "id": "chart-right-title",
              "type": "text",
              "x": 280,
              "y": 0,
              "width": 265,
              "height": 16,
              "style": "section-title",
              "properties": { "content": "Revenue by Segment" }
            },
            {
              "id": "revenue-chart",
              "type": "chart",
              "x": 0,
              "y": 20,
              "width": 265,
              "height": 230,
              "properties": {
                "spec": {
                  "$schema": "https://vega.github.io/schema/vega-lite/v6.json",
                  "width": 220,
                  "height": 160,
                  "mark": {
                    "type": "area",
                    "line": true,
                    "point": true,
                    "color": "#3b82f6",
                    "opacity": 0.3
                  },
                  "encoding": {
                    "x": {
                      "field": "month",
                      "type": "ordinal",
                      "sort": null,
                      "axis": { "title": null, "labelAngle": 0 }
                    },
                    "y": {
                      "field": "revenue",
                      "type": "quantitative",
                      "axis": { "title": "Revenue ($)", "format": "~s" }
                    }
                  }
                },
                "dataSource": "{{ monthlySales }}",
                "scale": 2
              }
            },
            {
              "id": "category-chart",
              "type": "chart",
              "x": 280,
              "y": 20,
              "width": 265,
              "height": 230,
              "properties": {
                "spec": {
                  "$schema": "https://vega.github.io/schema/vega-lite/v6.json",
                  "width": 220,
                  "height": 160,
                  "mark": { "type": "arc", "innerRadius": 40 },
                  "encoding": {
                    "theta": { "field": "amount", "type": "quantitative" },
                    "color": {
                      "field": "category",
                      "type": "nominal",
                      "scale": {
                        "domain": ["Enterprise", "SMB", "Startup", "Individual"],
                        "range": ["#3b82f6", "#10b981", "#f59e0b", "#8b5cf6"]
                      },
                      "legend": { "title": null }
                    }
                  }
                },
                "dataSource": "{{ categoryBreakdown }}",
                "scale": 2
              }
            }
          ]
        },
        {
          "id": "table-section",
          "type": "body",
          "height": 320,
          "elements": [
            {
              "id": "table-title",
              "type": "text",
              "x": 0,
              "y": 0,
              "width": 545,
              "height": 16,
              "style": "section-title",
              "properties": { "content": "Recent Transactions" }
            },
            {
              "id": "table-line",
              "type": "line",
              "x": 0,
              "y": 18,
              "width": 545,
              "height": 1,
              "properties": { "color": "#e2e8f0", "thickness": 1 }
            },
            {
              "id": "transactions-table",
              "type": "table",
              "x": 0,
              "y": 25,
              "width": 545,
              "height": 280,
              "style": "table-text",
              "properties": {
                "columns": [
                  { "key": "id", "header": "Transaction ID", "width": 80 },
                  { "key": "customer", "header": "Customer", "flex": 1 },
                  { "key": "amount", "header": "Amount", "width": 80, "align": "right" },
                  { "key": "status", "header": "Status", "width": 75 },
                  { "key": "date", "header": "Date", "width": 65 }
                ],
                "rows": "{{ recentTransactions }}",
                "showHeader": true,
                "headerStyle": "table-header",
                "alternateRowStyle": "table-alt",
                "borderWidth": 0.5,
                "borderColor": "#e2e8f0",
                "cellPadding": 6
              }
            }
          ]
        },
        {
          "id": "page-ftr",
          "type": "pageFooter",
          "height": 20,
          "elements": [
            {
              "id": "ftr-line",
              "type": "line",
              "x": 0,
              "y": 0,
              "width": 545,
              "height": 1,
              "properties": { "color": "#e2e8f0", "thickness": 0.5 }
            },
            {
              "id": "ftr-text",
              "type": "text",
              "x": 0,
              "y": 6,
              "width": 545,
              "height": 10,
              "style": "footer",
              "properties": { "content": "{{ dashboardTitle }} — {{ dateRange }} — Generated {{ generatedDate }}" }
            }
          ]
        }
      ]
    }
  ]
}
